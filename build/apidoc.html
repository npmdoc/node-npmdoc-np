<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/sindresorhus/np#readme"

    >np (v2.13.2)</a>
</h1>
<h4>A better `npm publish`</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.np">module np</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.np">
            function <span class="apidocSignatureSpan"></span>np
            <span class="apidocSignatureSpan">(input, opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.</span>util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.np.util">module np.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.util.readPkg">
            function <span class="apidocSignatureSpan">np.util.</span>readPkg
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.np.version">module np.version</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.getNewVersion">
            function <span class="apidocSignatureSpan">np.version.</span>getNewVersion
            <span class="apidocSignatureSpan">(oldVersion, input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isPrereleaseVersion">
            function <span class="apidocSignatureSpan">np.version.</span>isPrereleaseVersion
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isValidVersionInput">
            function <span class="apidocSignatureSpan">np.version.</span>isValidVersionInput
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isVersionGreater">
            function <span class="apidocSignatureSpan">np.version.</span>isVersionGreater
            <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isVersionLower">
            function <span class="apidocSignatureSpan">np.version.</span>isVersionLower
            <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.satisfies">
            function <span class="apidocSignatureSpan">np.version.</span>satisfies
            <span class="apidocSignatureSpan">(version, range)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.version.</span>PRERELEASE_VERSIONS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.version.</span>SEMVER_INCREMENTS</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.np" id="apidoc.module.np">module np</a></h1>


    <h2>
        <a href="#apidoc.element.np.np" id="apidoc.element.np.np">
        function <span class="apidocSignatureSpan"></span>np
        <span class="apidocSignatureSpan">(input, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(input, opts) =&#x3e; {
	input = input || &#x27;patch&#x27;;

	opts = Object.assign({
		cleanup: true,
		publish: true,
		yarn: hasYarn()
	}, opts);

	if (!hasYarn() &#x26;&#x26; opts.yarn) {
		throw new Error(&#x27;Could not use Yarn without yarn.lock file&#x27;);
	}

	// TODO: remove sometime far in the future
	if (opts.skipCleanup) {
		opts.cleanup = false;
	}

	const runTests = !opts.yolo;
	const runCleanup = opts.cleanup &#x26;&#x26; !opts.yolo;
	const runPublish = opts.publish;
	const pkg = util.readPkg();

	const tasks = new Listr([
		{
			title: &#x27;Prerequisite check&#x27;,
			task: () =&#x3e; prerequisiteTasks(input, pkg, opts)
		},
		{
			title: &#x27;Git&#x27;,
			task: () =&#x3e; gitTasks(opts)
		}
	], {
		showSubtasks: false
	});

	if (runCleanup) {
		tasks.add([
			{
				title: &#x27;Cleanup&#x27;,
				task: () =&#x3e; del(&#x27;node_modules&#x27;)
			},
			{
				title: &#x27;Installing dependencies using Yarn&#x27;,
				enabled: () =&#x3e; opts.yarn === true,
				task: () =&#x3e; exec(&#x27;yarn&#x27;, [&#x27;install&#x27;])
			},
			{
				title: &#x27;Installing dependencies using npm&#x27;,
				enabled: () =&#x3e; opts.yarn === false,
				task: () =&#x3e; exec(&#x27;npm&#x27;, [&#x27;install&#x27;])
			}
		]);
	}

	if (runTests) {
		tasks.add({
			title: &#x27;Running tests&#x27;,
			task: () =&#x3e; exec(&#x27;npm&#x27;, [&#x27;test&#x27;])
		});
	}

	tasks.add({
		title: &#x27;Bumping version&#x27;,
		task: () =&#x3e; exec(&#x27;npm&#x27;, [&#x27;version&#x27;, input])
	});

	if (runPublish) {
		tasks.add({
			title: &#x27;Publishing package&#x27;,
			skip: () =&#x3e; {
				if (pkg.private) {
					return &#x27;Private package: not publishing to npm.&#x27;;
				}
			},
			task: () =&#x3e; exec(&#x27;npm&#x27;, [&#x27;publish&#x27;].concat(opts.tag ? [&#x27;--tag&#x27;, opts.tag] : []))
		});
	}

	tasks.add({
		title: &#x27;Pushing tags&#x27;,
		task: () =&#x3e; exec(&#x27;git&#x27;, [&#x27;push&#x27;, &#x27;--follow-tags&#x27;])
	});

	return tasks.run()
		.then(() =&#x3e; readPkgUp())
		.then(result =&#x3e; result.pkg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.np.util" id="apidoc.module.np.util">module np.util</a></h1>


    <h2>
        <a href="#apidoc.element.np.util.readPkg" id="apidoc.element.np.util.readPkg">
        function <span class="apidocSignatureSpan">np.util.</span>readPkg
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">() =&#x3e; {
	const pkg = readPkgUp.sync().pkg;

	if (!pkg) {
		throw new Error(`No package.json found. Make sure you&#x27;re in the correct project.`);
	}

	return pkg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	if (opts.skipCleanup) {
		opts.cleanup = false;
	}

	const runTests = !opts.yolo;
	const runCleanup = opts.cleanup &#x26;&#x26; !opts.yolo;
	const runPublish = opts.publish;
	const pkg = util.<span class="apidocCodeKeywordSpan">readPkg</span>();

	const tasks = new Listr([
		{
			title: &#x27;Prerequisite check&#x27;,
			task: () =&#x3e; prerequisiteTasks(input, pkg, opts)
		},
		{
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.np.version" id="apidoc.module.np.version">module np.version</a></h1>


    <h2>
        <a href="#apidoc.element.np.version.getNewVersion" id="apidoc.element.np.version.getNewVersion">
        function <span class="apidocSignatureSpan">np.version.</span>getNewVersion
        <span class="apidocSignatureSpan">(oldVersion, input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(oldVersion, input) =&#x3e; {
	if (!exports.isValidVersionInput(input)) {
		throw new Error(`Version should be either ${exports.SEMVER_INCREMENTS.join(&#x27;, &#x27;)} or a valid semver version.`);
	}

	return exports.SEMVER_INCREMENTS.indexOf(input) === -1 ? input : semver.inc(oldVersion, input);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		{
			title: &#x27;Validate version&#x27;,
			task: () =&#x3e; {
				if (!version.isValidVersionInput(input)) {
					throw new Error(`Version should be either ${version.SEMVER_INCREMENTS.join(&#x27;, &#x27;)}, or a valid semver version.`);
				}

				newVersion = version.<span class="apidocCodeKeywordSpan">getNewVersion</span>(pkg.version, input);

				if (!version.isVersionGreater(pkg.version, newVersion)) {
					throw new Error(`New version \`${newVersion}\` should be higher than current version \`${pkg.version}\``);
				}
			}
		},
		{
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isPrereleaseVersion" id="apidoc.element.np.version.isPrereleaseVersion">
        function <span class="apidocSignatureSpan">np.version.</span>isPrereleaseVersion
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">version =&#x3e; exports.PRERELEASE_VERSIONS.indexOf(version) !== -1 || Boolean(semver.prerelease(version))</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				}
			}
		},
		{
			title: &#x27;Check for pre-release version&#x27;,
			enabled: () =&#x3e; opts.publish,
			task: () =&#x3e; {
				if (!pkg.private &#x26;&#x26; version.<span class="apidocCodeKeywordSpan">isPrereleaseVersion</span>(newVersion) &#x26;&#x26
; !opts.tag) {
					throw new Error(&#x27;You must specify a dist-tag using --tag when publishing a pre-release version. This prevents accidentally
 tagging unstable versions as &#x22;latest&#x22;. https://docs.npmjs.com/cli/dist-tag&#x27;);
				}
			}
		},
		{
			title: &#x27;Check npm version&#x27;,
			skip: () =&#x3e; version.isVersionLower(&#x27;6.0.0&#x27;, process.version),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isValidVersionInput" id="apidoc.element.np.version.isValidVersionInput">
        function <span class="apidocSignatureSpan">np.version.</span>isValidVersionInput
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">input =&#x3e; exports.SEMVER_INCREMENTS.indexOf(input) !== -1 || isValidVersion(input)</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = (input, pkg, opts) =&#x3e; {
	let newVersion = null;

	const tasks = [
		{
			title: &#x27;Validate version&#x27;,
			task: () =&#x3e; {
				if (!version.<span class="apidocCodeKeywordSpan">isValidVersionInput</span>(input)) {
					throw new Error(`Version should be either ${version.SEMVER_INCREMENTS.join(&#x27;, &#x27;)}, or a valid semver version.`);
				}

				newVersion = version.getNewVersion(pkg.version, input);

				if (!version.isVersionGreater(pkg.version, newVersion)) {
					throw new Error(`New version \`${newVersion}\` should be higher than current version \`${pkg.version}\``);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isVersionGreater" id="apidoc.element.np.version.isVersionGreater">
        function <span class="apidocSignatureSpan">np.version.</span>isVersionGreater
        <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(oldVersion, newVersion) =&#x3e; {
	if (!isValidVersion(newVersion)) {
		throw new Error(&#x27;Version should be a valid semver version.&#x27;);
	}

	return semver.gt(newVersion, oldVersion);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			task: () =&#x3e; {
				if (!version.isValidVersionInput(input)) {
					throw new Error(`Version should be either ${version.SEMVER_INCREMENTS.join(&#x27;, &#x27;)}, or a valid semver version.`);
				}

				newVersion = version.getNewVersion(pkg.version, input);

				if (!version.<span class="apidocCodeKeywordSpan">isVersionGreater</span>(pkg.version, newVersion)) {
					throw new Error(`New version \`${newVersion}\` should be higher than current version \`${pkg.version}\``);
				}
			}
		},
		{
			title: &#x27;Check for pre-release version&#x27;,
			enabled: () =&#x3e; opts.publish,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isVersionLower" id="apidoc.element.np.version.isVersionLower">
        function <span class="apidocSignatureSpan">np.version.</span>isVersionLower
        <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(oldVersion, newVersion) =&#x3e; {
	if (!isValidVersion(newVersion)) {
		throw new Error(&#x27;Version should be a valid semver version.&#x27;);
	}

	return semver.lt(newVersion, oldVersion);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				if (!pkg.private &#x26;&#x26; version.isPrereleaseVersion(newVersion) &#x26;&#x26; !opts.tag) {
					throw new Error(&#x27;You must specify a dist-tag using --tag when publishing a pre-release version. This prevents accidentally
 tagging unstable versions as &#x22;latest&#x22;. https://docs.npmjs.com/cli/dist-tag&#x27;);
				}
			}
		},
		{
			title: &#x27;Check npm version&#x27;,
			skip: () =&#x3e; version.<span class="apidocCodeKeywordSpan">isVersionLower</span>(&#x27;6.0.0&#x27;, process.version),
			task: () =&#x3e; execa.stdout(&#x27;npm&#x27;, [&#x27;version&#x27;, &#x27;--json&#x27;]).then(json =&#x3e; {
				const versions = JSON.parse(json);
				if (!version.satisfies(versions.npm, &#x27;&#x3e;=2.15.8 &#x3c;3.0.0 || &#x3e;=3.10.1&#x27;)) {
					throw new Error(`npm@${versions.npm} has known issues publishing when running Node.js 6. Please upgrade npm or downgrade Node
 and publish again. https://github.com/npm/npm/issues/5082`);
				}
			})
		},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.satisfies" id="apidoc.element.np.version.satisfies">
        function <span class="apidocSignatureSpan">np.version.</span>satisfies
        <span class="apidocSignatureSpan">(version, range)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(version, range) =&#x3e; semver.satisfies(version, range)</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			}
		},
		{
			title: &#x27;Check npm version&#x27;,
			skip: () =&#x3e; version.isVersionLower(&#x27;6.0.0&#x27;, process.version),
			task: () =&#x3e; execa.stdout(&#x27;npm&#x27;, [&#x27;version&#x27;, &#x27;--json&#x27;]).then(json =&#x3e; {
				const versions = JSON.parse(json);
				if (!version.<span class="apidocCodeKeywordSpan">satisfies</span>(versions.npm, &#x27;&#x3e;=2.15.8 &#x3c;3.0.0 || &#x3e;=3.
10.1&#x27;)) {
					throw new Error(`npm@${versions.npm} has known issues publishing when running Node.js 6. Please upgrade npm or downgrade Node
 and publish again. https://github.com/npm/npm/issues/5082`);
				}
			})
		},
		{
			title: &#x27;Check yarn.lock integrity&#x27;,
			enabled: () =&#x3e; opts.yarn,
...</pre></li>
    </ul>






</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
