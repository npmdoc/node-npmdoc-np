<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/sindresorhus/np#readme">np (v2.13.2)</a>
</h1>
<h4>A better `npm publish`</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.np">module np</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.np">
            function <span class="apidocSignatureSpan"></span>np
            <span class="apidocSignatureSpan">(input, opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.</span>util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.np.util">module np.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.util.readPkg">
            function <span class="apidocSignatureSpan">np.util.</span>readPkg
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.np.version">module np.version</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.getNewVersion">
            function <span class="apidocSignatureSpan">np.version.</span>getNewVersion
            <span class="apidocSignatureSpan">(oldVersion, input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isPrereleaseVersion">
            function <span class="apidocSignatureSpan">np.version.</span>isPrereleaseVersion
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isValidVersionInput">
            function <span class="apidocSignatureSpan">np.version.</span>isValidVersionInput
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isVersionGreater">
            function <span class="apidocSignatureSpan">np.version.</span>isVersionGreater
            <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.isVersionLower">
            function <span class="apidocSignatureSpan">np.version.</span>isVersionLower
            <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.np.version.satisfies">
            function <span class="apidocSignatureSpan">np.version.</span>satisfies
            <span class="apidocSignatureSpan">(version, range)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.version.</span>PRERELEASE_VERSIONS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">np.version.</span>SEMVER_INCREMENTS</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.np" id="apidoc.module.np">module np</a></h1>


    <h2>
        <a href="#apidoc.element.np.np" id="apidoc.element.np.np">
        function <span class="apidocSignatureSpan"></span>np
        <span class="apidocSignatureSpan">(input, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(input, opts) =&gt; {
	input = input || 'patch';

	opts = Object.assign({
		cleanup: true,
		publish: true,
		yarn: hasYarn()
	}, opts);

	if (!hasYarn() &amp;&amp; opts.yarn) {
		throw new Error('Could not use Yarn without yarn.lock file');
	}

	// TODO: remove sometime far in the future
	if (opts.skipCleanup) {
		opts.cleanup = false;
	}

	const runTests = !opts.yolo;
	const runCleanup = opts.cleanup &amp;&amp; !opts.yolo;
	const runPublish = opts.publish;
	const pkg = util.readPkg();

	const tasks = new Listr([
		{
			title: 'Prerequisite check',
			task: () =&gt; prerequisiteTasks(input, pkg, opts)
		},
		{
			title: 'Git',
			task: () =&gt; gitTasks(opts)
		}
	], {
		showSubtasks: false
	});

	if (runCleanup) {
		tasks.add([
			{
				title: 'Cleanup',
				task: () =&gt; del('node_modules')
			},
			{
				title: 'Installing dependencies using Yarn',
				enabled: () =&gt; opts.yarn === true,
				task: () =&gt; exec('yarn', ['install'])
			},
			{
				title: 'Installing dependencies using npm',
				enabled: () =&gt; opts.yarn === false,
				task: () =&gt; exec('npm', ['install'])
			}
		]);
	}

	if (runTests) {
		tasks.add({
			title: 'Running tests',
			task: () =&gt; exec('npm', ['test'])
		});
	}

	tasks.add({
		title: 'Bumping version',
		task: () =&gt; exec('npm', ['version', input])
	});

	if (runPublish) {
		tasks.add({
			title: 'Publishing package',
			skip: () =&gt; {
				if (pkg.private) {
					return 'Private package: not publishing to npm.';
				}
			},
			task: () =&gt; exec('npm', ['publish'].concat(opts.tag ? ['--tag', opts.tag] : []))
		});
	}

	tasks.add({
		title: 'Pushing tags',
		task: () =&gt; exec('git', ['push', '--follow-tags'])
	});

	return tasks.run()
		.then(() =&gt; readPkgUp())
		.then(result =&gt; result.pkg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.np.util" id="apidoc.module.np.util">module np.util</a></h1>


    <h2>
        <a href="#apidoc.element.np.util.readPkg" id="apidoc.element.np.util.readPkg">
        function <span class="apidocSignatureSpan">np.util.</span>readPkg
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">() =&gt; {
	const pkg = readPkgUp.sync().pkg;

	if (!pkg) {
		throw new Error(`No package.json found. Make sure you're in the correct project.`);
	}

	return pkg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	if (opts.skipCleanup) {
		opts.cleanup = false;
	}

	const runTests = !opts.yolo;
	const runCleanup = opts.cleanup &amp;&amp; !opts.yolo;
	const runPublish = opts.publish;
	const pkg = util.<span class="apidocCodeKeywordSpan">readPkg</span>();

	const tasks = new Listr([
		{
			title: 'Prerequisite check',
			task: () =&gt; prerequisiteTasks(input, pkg, opts)
		},
		{
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.np.version" id="apidoc.module.np.version">module np.version</a></h1>


    <h2>
        <a href="#apidoc.element.np.version.getNewVersion" id="apidoc.element.np.version.getNewVersion">
        function <span class="apidocSignatureSpan">np.version.</span>getNewVersion
        <span class="apidocSignatureSpan">(oldVersion, input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(oldVersion, input) =&gt; {
	if (!exports.isValidVersionInput(input)) {
		throw new Error(`Version should be either ${exports.SEMVER_INCREMENTS.join(', ')} or a valid semver version.`);
	}

	return exports.SEMVER_INCREMENTS.indexOf(input) === -1 ? input : semver.inc(oldVersion, input);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		{
			title: 'Validate version',
			task: () =&gt; {
				if (!version.isValidVersionInput(input)) {
					throw new Error(`Version should be either ${version.SEMVER_INCREMENTS.join(', ')}, or a valid semver version.`);
				}

				newVersion = version.<span class="apidocCodeKeywordSpan">getNewVersion</span>(pkg.version, input);

				if (!version.isVersionGreater(pkg.version, newVersion)) {
					throw new Error(`New version \`${newVersion}\` should be higher than current version \`${pkg.version}\``);
				}
			}
		},
		{
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isPrereleaseVersion" id="apidoc.element.np.version.isPrereleaseVersion">
        function <span class="apidocSignatureSpan">np.version.</span>isPrereleaseVersion
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">version =&gt; exports.PRERELEASE_VERSIONS.indexOf(version) !== -1 || Boolean(semver.prerelease(version))</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				}
			}
		},
		{
			title: 'Check for pre-release version',
			enabled: () =&gt; opts.publish,
			task: () =&gt; {
				if (!pkg.private &amp;&amp; version.<span class="apidocCodeKeywordSpan">isPrereleaseVersion</span>(newVersion) &amp;&amp;
; !opts.tag) {
					throw new Error('You must specify a dist-tag using --tag when publishing a pre-release version. This prevents accidentally
 tagging unstable versions as "latest". https://docs.npmjs.com/cli/dist-tag');
				}
			}
		},
		{
			title: 'Check npm version',
			skip: () =&gt; version.isVersionLower('6.0.0', process.version),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isValidVersionInput" id="apidoc.element.np.version.isValidVersionInput">
        function <span class="apidocSignatureSpan">np.version.</span>isValidVersionInput
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">input =&gt; exports.SEMVER_INCREMENTS.indexOf(input) !== -1 || isValidVersion(input)</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = (input, pkg, opts) =&gt; {
	let newVersion = null;

	const tasks = [
		{
			title: 'Validate version',
			task: () =&gt; {
				if (!version.<span class="apidocCodeKeywordSpan">isValidVersionInput</span>(input)) {
					throw new Error(`Version should be either ${version.SEMVER_INCREMENTS.join(', ')}, or a valid semver version.`);
				}

				newVersion = version.getNewVersion(pkg.version, input);

				if (!version.isVersionGreater(pkg.version, newVersion)) {
					throw new Error(`New version \`${newVersion}\` should be higher than current version \`${pkg.version}\``);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isVersionGreater" id="apidoc.element.np.version.isVersionGreater">
        function <span class="apidocSignatureSpan">np.version.</span>isVersionGreater
        <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(oldVersion, newVersion) =&gt; {
	if (!isValidVersion(newVersion)) {
		throw new Error('Version should be a valid semver version.');
	}

	return semver.gt(newVersion, oldVersion);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			task: () =&gt; {
				if (!version.isValidVersionInput(input)) {
					throw new Error(`Version should be either ${version.SEMVER_INCREMENTS.join(', ')}, or a valid semver version.`);
				}

				newVersion = version.getNewVersion(pkg.version, input);

				if (!version.<span class="apidocCodeKeywordSpan">isVersionGreater</span>(pkg.version, newVersion)) {
					throw new Error(`New version \`${newVersion}\` should be higher than current version \`${pkg.version}\``);
				}
			}
		},
		{
			title: 'Check for pre-release version',
			enabled: () =&gt; opts.publish,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.isVersionLower" id="apidoc.element.np.version.isVersionLower">
        function <span class="apidocSignatureSpan">np.version.</span>isVersionLower
        <span class="apidocSignatureSpan">(oldVersion, newVersion)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(oldVersion, newVersion) =&gt; {
	if (!isValidVersion(newVersion)) {
		throw new Error('Version should be a valid semver version.');
	}

	return semver.lt(newVersion, oldVersion);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				if (!pkg.private &amp;&amp; version.isPrereleaseVersion(newVersion) &amp;&amp; !opts.tag) {
					throw new Error('You must specify a dist-tag using --tag when publishing a pre-release version. This prevents accidentally
 tagging unstable versions as "latest". https://docs.npmjs.com/cli/dist-tag');
				}
			}
		},
		{
			title: 'Check npm version',
			skip: () =&gt; version.<span class="apidocCodeKeywordSpan">isVersionLower</span>('6.0.0', process.version),
			task: () =&gt; execa.stdout('npm', ['version', '--json']).then(json =&gt; {
				const versions = JSON.parse(json);
				if (!version.satisfies(versions.npm, '&gt;=2.15.8 &lt;3.0.0 || &gt;=3.10.1')) {
					throw new Error(`npm@${versions.npm} has known issues publishing when running Node.js 6. Please upgrade npm or downgrade Node
 and publish again. https://github.com/npm/npm/issues/5082`);
				}
			})
		},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.np.version.satisfies" id="apidoc.element.np.version.satisfies">
        function <span class="apidocSignatureSpan">np.version.</span>satisfies
        <span class="apidocSignatureSpan">(version, range)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(version, range) =&gt; semver.satisfies(version, range)</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			}
		},
		{
			title: 'Check npm version',
			skip: () =&gt; version.isVersionLower('6.0.0', process.version),
			task: () =&gt; execa.stdout('npm', ['version', '--json']).then(json =&gt; {
				const versions = JSON.parse(json);
				if (!version.<span class="apidocCodeKeywordSpan">satisfies</span>(versions.npm, '&gt;=2.15.8 &lt;3.0.0 || &gt;=3.
10.1')) {
					throw new Error(`npm@${versions.npm} has known issues publishing when running Node.js 6. Please upgrade npm or downgrade Node
 and publish again. https://github.com/npm/npm/issues/5082`);
				}
			})
		},
		{
			title: 'Check yarn.lock integrity',
			enabled: () =&gt; opts.yarn,
...</pre></li>
    </ul>






</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>